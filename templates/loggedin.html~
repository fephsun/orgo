{% extends "base.html" %}
{% load orgo_filters %}

{% block jsimport %}
<script src="http://felixsun.scripts.mit.edu/orgo/static/jquery-1.9.0.js"> </script>
<script type="text/javascript" src="http://felixsun.scripts.mit.edu/orgo/static/tufte-graph/raphael.js"></script>
<script type="text/javascript" src="http://felixsun.scripts.mit.edu/orgo/static/tufte-graph/jquery.enumerable.js"></script>
<script type="text/javascript" src="http://felixsun.scripts.mit.edu/orgo/static/tufte-graph/jquery.tufte-graph.js"></script>
{% endblock %}

{% block cssimport %}
<link rel="stylesheet" href="http://felixsun.scripts.mit.edu/orgo/static/tufte-graph/tufte-graph.css" type="text/css" media="screen" charset="utf-8" />
{% endblock %}

{% block menuitems %}
<li class="active"><a href="/orgo/">Home</a></li>
<li><a href="#contact">About / FAQs</a></li>
<li><a href="/orgo/logout/">Logout</a></li>
{% endblock %}

{% block signin %}
<p class="navbar-text pull-right active">
Welcome, {{name}}
</p>
{% endblock %}

{% block content %}


<p>
<a href="/orgo/chat/volunteertohelp"> Help others </a>
</p>
 
 <h2> Naming Reagents </h2>
 <form action = "/orgo/namereagent/resume/" method="post" class="form-horizontal">{% csrf_token %}
    <input type="submit" value="Resume old" class="btn"/>
</form>
<form action = "/orgo/namereagent/" method="post" class="form-horizontal">{% csrf_token %}
    {% for field in ChooseReagentsForm %}
        {% if field.field.widget|is_checkbox %}
            {{field}}{{field.label_tag}}
        {% else %}
            {{field.label_tag}}
            <br />
            {{field}}
        {% endif %}
        <br />
    {% endfor %}
    <input type="submit" value="Generate new" class="btn"/>
</form>

  <h2> Synthesis Problems </h2>
<form action = "/orgo/renderSynthesis/resume/" method="post" class="form-horizontal">{% csrf_token %}
    <input type="submit" value="Resume old" class="btn"/>
</form>
<form action = "/orgo/renderSynthesis/" method="post" class="form-horizontal">{% csrf_token %}
    {% for field in ChooseReagentsForm %}
        {% if field.field.widget|is_checkbox %}
            {{field}}{{field.label_tag}}
        {% else %}
            {{field.label_tag}}
            <br />
            {{field}}
        {% endif %}
        <br />
    {% endfor %}
    <input type="submit" value="Generate new" class="btn"/>
</form>
<h4> Load Shared Problem </h4>
<form action = "/orgo/loadSynthesisFromId/" method="post" class="form-horizontal">{% csrf_token %}
    Problem ID: <input type="text" name="Id">
    <br />
    <input type="submit" value="Go" class="btn"/>
</form>

{{debug|safe}}


<div id="graph" class="graph" style="width:400; height:300">
</div>

<script>
$(document).ready(function(){
    $("#graph").tufteBar({
        data: {{graphData|safe}},
        axisLabel: function(index) {return this[1]},
        barLabel: function(index) {
            return Math.round(this[0]*100) + '&#37 ('+this[2]+'/'+this[3]+')'
        },
    });
    
});
</script>

<h2> Change Password </h2>
<form action = "/orgo/api/changePW/" method="post" class="form-horizontal">{% csrf_token %}
    {{changePW.as_p}}
    <input type="submit" value="Change" class="btn"/>
</form>

{% endblock %}
